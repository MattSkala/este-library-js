// Generated by github.com/steida/coffee2closure 0.0.14
/**
  @fileoverview Demo for Facebook React in Este. Note this demo demonstrates
  plain React usage. React component is created via 'React.createClass' method.
  For better syntax use 'este.react.create' factory method.
*/
goog.provide('este.demos.thirdparty.react.start');
goog.require('este.thirdParty.react');
este.demos.thirdparty.react.start = function() {
  var componentElement, todoApp, todoAppInstance, todoList;
  todoList = React.createClass(/** @lends {React.ReactComponent.prototype} */({
    render: function() {
      var createItem;
      createItem = function(text) {
        return React.DOM.li({
          'contentEditable': true
        }, text);
      };
      return React.DOM.ul(null, this.props['items'].map(createItem));
    }
  }));
  todoApp = React.createClass(/** @lends {React.ReactComponent.prototype} */({
    getInitialState: function() {
      return {
        'items': [],
        'text': ''
      };
    },
    render: function() {
      return React.DOM.div(null, [
        React.DOM.h3(null, 'TODO'), todoList({
          'items': this.state['items']
        }), React.DOM.form({
          'onSubmit': this.onFormSubmit
        }, [
          React.DOM.input({
            'onChange': this.onChange,
            'value': this.state['text'],
            'autoFocus': true,
            'ref': 'input'
          }), React.DOM.button(null, "Add #" + (this.state['items'].length + 1))
        ])
      ]);
    },
    onFormSubmit: function(e) {
      e.preventDefault();
      this.setState({
        'items': this.state['items'].concat([this.state['text']]),
        'text': ''
      });
      return this.refs['input'].getDOMNode().focus();
    },
    onChange: function(e) {
      return this.setState({
        'text': e.target.value
      });
    }
  }));
  todoAppInstance = todoApp();
  componentElement = document.querySelector('#component');
  return React.renderComponent(todoAppInstance, componentElement);
};
goog.exportSymbol('este.demos.thirdparty.react.start', este.demos.thirdparty.react.start);